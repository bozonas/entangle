(this.webpackJsonpentangle=this.webpackJsonpentangle||[]).push([[0],{300:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},350:function(e,t,a){e.exports=a(579)},355:function(e,t,a){},358:function(e,t,a){},579:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(82),o=a.n(r),l=(a(355),a(356),a(357),a(333)),i=a(71),u=(a(358),a(621)),m=a(622),s=a(300),p=a.n(s),d={h1:{marginTop:"3em"}},h=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{as:"h1",content:"Entangle",style:d.h1,textAlign:"center"}),c.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),c.a.createElement(m.a,null,t))},f=a(24),E=a.n(f),g=a(42),v=a(37),b=a(324),y=a(321),w=a(585),j=a(623),O=a(95),x=a(580),S=a(624),k=a(217),C=a(335),A=a(123),F=a.n(A),N=a(177),T=a.n(N),V="http://sleepy-earth-62648.herokuapp.com/api";function L(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a="",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}var P=function(e){Object(n.useEffect)((function(){A({name:"secret"},{required:!0})}),[]);var t=Object(n.useState)(""),a=Object(v.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(v.a)(l,2),u=i[0],m=i[1],s=Object(n.useState)({form:!0,copy:!1}),p=Object(v.a)(s,2),d=p[0],h=p[1],f=Object(C.a)(),A=f.register,N=f.errors,P=f.handleSubmit,R=f.setValue,U=f.triggerValidation,B=function(){var t=Object(g.a)(E.a.mark((function t(a){var n,c,r,l,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),n=L(10),c=L(20),r=F.a.AES.encrypt(a.secret,c).toString(),l={key:n,ciphertext:r},t.prev=5,t.next=8,T.a.post("".concat(V,"/message"),l);case 8:i=t.sent,console.log(i),o("".concat(window.location.href).concat(n,"-").concat(c)),h({form:!1,copy:!1}),setTimeout((function(){h({form:!1,copy:!0})}),500),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),e.history.push("".concat("/entangle","/errorPage"));case 18:m(!1);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,null,c.a.createElement(b.a.Row,{centered:!0},c.a.createElement(b.a.Column,{width:8,textAlign:"center"},c.a.createElement(y.a,{visible:d.copy,animation:"fade up",duration:500,de:!0},c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{fluid:!0,defaultValue:r,action:{color:"teal",labelPosition:"right",icon:"copy",content:"Copy",onClick:function(){var e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Object(k.toast)({type:"success",icon:"copy",title:"Copied",description:"URL has been copied to your clipboard",animation:"fade up",time:3e3})}}}))),c.a.createElement(y.a,{visible:d.form,animation:"fade up",duration:500},c.a.createElement(j.a,{onSubmit:P(B)},c.a.createElement(j.a.TextArea,{rows:5,name:"secret",placeholder:"Enter your secret",onChange:function(){var e=Object(g.a)(E.a.mark((function e(t,a){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.name,c=a.value,R(n,c),e.next=4,U(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),error:!!N.secret}),c.a.createElement(O.a,null,"Save secret")))))),c.a.createElement(k.SemanticToastContainer,{position:"bottom-right"}),c.a.createElement(x.a,{active:u,page:!0},c.a.createElement(S.a,{inverted:!0},"Loading")))},R=a(584),U=function(e){var t=Object(n.useState)(""),a=Object(v.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!0),i=Object(v.a)(l,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){m(!0);var t=e.match.params.id.split("-"),a=Object(v.a)(t,2),n=a[0],c=a[1];T()("".concat(V,"/message/").concat(n)).then((function(e){var t=e.data.ciphertext,a=F.a.AES.decrypt(t,c).toString(F.a.enc.Utf8);o(a),m(!1)})).catch((function(t){e.history.push("".concat("/entangle","/notFound"))}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,null,c.a.createElement(b.a.Row,{centered:!0},c.a.createElement(b.a.Column,{width:8,textAlign:"center"},c.a.createElement(j.a,null,c.a.createElement(R.a,{rows:5,name:"secret",defaultValue:r}))))),c.a.createElement(x.a,{active:u,page:!0},c.a.createElement(S.a,{inverted:!0},"Loading")))},B=function(){return c.a.createElement("div",{className:"ui statistic"},c.a.createElement("div",{className:"value"},"404"),c.a.createElement("div",{className:"label"},"Error"))},J=function(){return c.a.createElement("h1",null,"Upsy.... something went horribly wrong")},M=function(){return c.a.createElement(l.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(h,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"".concat("/entangle","/"),component:P}),c.a.createElement(i.a,{path:"".concat("/entangle","/notFound"),component:B}),c.a.createElement(i.a,{path:"".concat("/entangle","/errorPage"),component:J}),c.a.createElement(i.a,{path:"".concat("/entangle","/:id"),component:U})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[350,1,2]]]);
//# sourceMappingURL=main.7258d429.chunk.js.map